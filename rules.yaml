lava_base_url: https://lkft.validation.linaro.org

rules:
- exact_match:
    device_type: x15
  re_match:
    error_msg: 'lava-test-shell timed out after \d+ seconds'
    job_name: lkft-kselftest-linux
    job_output:
      - Failed to allocate trace_probe
      - 'Kprobe dynamic event - probing module\\t\[FAIL\]'
  description: |
    LKFT: linux-next: x15: kselftest: ftracetest hangs forever
    - https://bugs.linaro.org/show_bug.cgi?id=3297
    - https://bugs.linaro.org/show_bug.cgi?id=3304

- re_match:
    error_msg: 'lava-test-shell timed out after \d+ seconds'
    job_name: lkft-ltp-syscalls-linux
    job_output:
      - 'LTP Version: 20170929'
      - 'INFO: task fanotify07:\d+ blocked for more than \d+ seconds.'
  description: |
    LTP: 20170929: hikey: fanotify07 sometimes causes kernel trace and LTP to hang
    - https://bugs.linaro.org/show_bug.cgi?id=3303

- re_match:
    error_msg: 'lava-test-shell timed out after \d+ seconds'
    job_name: lkft-ltp-sched-
    device_type: '^(juno-r2|x86)$'
    job_output:
      - 'nfs: server 10.\d+.\d+.\d+ not responding, still trying'
  description: |
    LKFT: linux-mainline: x86 : ltp sched tests hang due to NFS not responding
    note: also occurs on juno-r2
    https://bugs.linaro.org/show_bug.cgi?id=3338

# https://lkft.validation.linaro.org/scheduler/job/46682
- re_match:
    job_name: lkft-kselftest-linux-4.4.y
    error_msg: 'lava-test-shell timed out after \d+ seconds'
    device_type: ^x86$
    job_output:
      - 'selftests: ftracetest \[FAIL\]'
  description: |
    LKFT: 4.4 : x86: kselftest test case ftracetest failed
    https://bugs.linaro.org/show_bug.cgi?id=3336

# https://lkft.validation.linaro.org/scheduler/job/47665
- re_match:
    job_name: lkft-ltp-sched-
    device_type: ^hi6220-hikey$
    error_msg: 'lava-test-shell timed out after \d+ seconds'
    job_output:
      # multiline regex, detect reboot after tests start
      - 'Running tests........*NOTICE:  Booting Trusted Firmware'
  description: |
    LKFT: linux-mainline: HiKey: Overheating and auto reboot with
    "power_allocator" when running hackbench
    https://bugs.linaro.org/show_bug.cgi?id=3322

# https://lkft.validation.linaro.org/scheduler/job/47628
- re_match:
    job_name: lkft-ltp-timers-master
    device_type: ^juno-r2$
    error_msg: bootloader-commands timed out after \d+ seconds
    job_output:
      # Ensure we're getting linux-next
      - 'Validating that http:\/\/snapshots.linaro.org\/openembedded\/lkft\/morty\/juno\/rpb\/linux-next\/\d+\/juno-oe-uboot.zip exists'
  description: |
    LKFT: linux-next: Juno: Failed to start Linux kernel and boot failed
    https://bugs.linaro.org/show_bug.cgi?id=3325

